Castling is permissible if and only if all of the following conditions hold (Schiller 2003:19):

The king and the chosen rook are on the player's first rank.[3]
Neither the king nor the chosen rook has previously moved.
There are no pieces between the king and the chosen rook.
The king is not currently in check.
The king does not pass through a square that is attacked by an enemy piece.[4]
The king does not end up in check. (True of any legal move.)
Conditions 4 through 6 can be summarized with the more memorable phrase: "One may not castle out of, through, or into check."

It is a common misperception that the requirements for castling are even more stringent than the above.[5] To clarify:

The chosen rook may be under attack.
The rook may move through an attacked square, provided the king does not. The only such square is the one adjacent to the rook, when castling queenside.
The king may have been in check earlier in the game (provided the king did not move when resolving the check).
In handicap games where odds of a rook are given, the player giving odds may still castle with the absent rook, moving only the king.[6]